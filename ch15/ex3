package ch15_15_2;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;

class Product{
	private String name;
	private int price;
	
	public Product(String name,int price) {
		this.name=name;
		this.price=price;
	}
	public String getName() {
		return name;
	}
	public int getPrice() {
		return price;
	}
	
	@Override
	public String toString() {{
		return name+ " ("+ price +"원)";
	}
}
public class Ex3ArrayListSerchSortExam {
	public static void main(String[]args) {
		List<Product> list= new ArrayList<>();
		
		list.add(new Product("키보드",30000));
		list.add(new Product("마우스",15000));
		list.add(new Product("모니터",200000));
		list.add(new Product("노트북",1200000));
		list.add(new Product("USB",10000));
		System.out.println("초기 상품 목록");
		list.forEach(System.out::println);
		
        // 1. 특정 단어로 검색
        String keyword = "노트";
        System.out.println("\n=== \"" + keyword + "\" 검색 ===");
        list.stream()
            .filter(p -> p.getName().contains(keyword))
            .forEach(System.out::println);

        // 2. 가격 기준 오름차순 정렬
        list.sort(Comparator.comparingInt(Product::getPrice));
        System.out.println("\n=== 가격 오름차순 정렬 ===");
        list.forEach(System.out::println);

        // 3. 이름 기준 내림차순 정렬
        list.sort(Comparator.comparing(Product::getName).reversed());
        System.out.println("\n=== 이름 내림차순 정렬 ===");
        list.forEach(System.out::println);

        // 4. 가장 비싼 상품 찾기
        Product max = Collections.max(list, Comparator.comparingInt(Product::getPrice));
        System.out.println("\n가장 비싼 상품: " + max);

        // 5. 평균 가격 계산
        double avg = list.stream()
                         .mapToInt(Product::getPrice)
                         .average()
                         .orElse(0);
        System.out.println("\n평균 가격: " + (int) avg + "원");
    }
	}
}
	

